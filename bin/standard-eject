#!/usr/bin/env bash

# Detect whether to use yarn or npm
if [ -f ./yarn.lock ]
then
  removeCommand="yarn remove"
  addCommand="yarn add --dev"
else
  removeCommand="npm uninstall --save-dev"
  addCommand="npm install --save-dev"
fi

# Print commands so the user knows what is happening
set -x

$removeCommand standard
$addCommand standardx

# Stop printing commands. See https://stackoverflow.com/a/19226038
{ set +x; } 2>/dev/null

echo
echo 'All done! Remember to change `standard` to `standardx` in your package.json scripts, etc.'
echo 'Also, if you have a `standard` section in package.json, change it to `standardx` too.'
